<!DOCTYPE html>
<html>
<head>
    <title>Exoplanet Detector</title>
</head>
<body>
<h1>Exoplanet Detection System</h1>
<input type="file" id="csvFile" accept=".csv">
<button onclick="uploadCSV()">Predict</button>
<pre id="results"></pre>

<script>
async function uploadCSV() {
    const fileInput = document.getElementById("csvFile");
    if (!fileInput.files.length) return alert("Select a CSV file");

    const text = await fileInput.files[0].text();
    const rows = text.split("\n");
    const headers = rows[0].split(",");
    const data = rows.slice(1).map(row => {
        const values = row.split(",");
        let obj = {};
        headers.forEach((h,i)=> obj[h]=parseFloat(values[i]));
        return obj;
    });

    const res = await fetch("http://localhost:5000/predict", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({data: data})
    });
    const results = await res.json();
    document.getElementById("results").textContent = JSON.stringify(results, null, 2);
}
</script>
</body>
</html>
